; Generated by holtek-gcc v3.19, Wed Jul 05 14:46:46 2023
; 
; Configuration:
;       with long instruction
;       Multi-ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
; SFR address of long-instruction arch:
;    mp0 = -1,1,0
;    mp1 = 4,3,2
;    mp2 = 14,13,12
;    tbp = 9,7,8
;    acc = 5
;    pcl = 6
;    status = 10
;    bp = 11
;    intc = 16
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
; Rebuild 718

ir equ [2]
mp equ [3]
sbp equ [4]
acc equ [5]
bp equ [11]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
cz equ [10].6
sc equ [10].7
intc equ [16]
mduwr0 equ [59h]
mduwr1 equ [5ah]
mduwr2 equ [5bh]
mduwr3 equ [5ch]
mduwr4 equ [5dh]
mduwr5 equ [5eh]
mduwrctrl equ [5fh]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
___pas1 equ [334]
___u0cr1 equ [273]
___u0cr2 equ [274]
___mfi5 equ [56]
___intc3 equ [19]
___intc0 equ [16]
___brg0 equ [276]
___brg2 equ [271]
___pbs0 equ [335]
___u2cr1 equ [268]
___u2cr2 equ [269]
___pds0 equ [339]
___u1cr1 equ [278]
___u1cr2 equ [279]
___brg1 equ [281]
public _uart_init
#pragma debug scope 2 1
#line 13 "d:\mike\holtek_c\componets\common\uartuse.c"
_uart_init .section 'code'
_uart_init proc
public _uart_init_2
    local _uart_init_2 db 3 dup(?)	; 2,1
	mov ra,a
	mov _uart_init_2[2],a
#pragma debug variable 8 2 _uart_init_2+2 "UART_port"
#pragma debug variable 9 2 _uart_init_2+0 "baudrate"
#line 14 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,ra
	sub a,16
	snz z
	jmp _L2
#line 17 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,240
	lmov [334],a
#line 19 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,128
	lmov [273],a
#line 20 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,228
	lmov [274],a
#line 22 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [56].0
#line 23 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [19].3
#line 24 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [16].0
#line 26 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,128
	mov a,_uart_init_2[1]
	sbc a,37
	snz cz
	jmp _L3
#line 28 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,103
	lmov [276],a
	jmp _L1
_L3:
#line 36 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,192
	mov a,_uart_init_2[1]
	sbc a,18
	snz cz
	jmp _L1
	jmp _L10
_L2:
#line 42 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[2]
	sub a,48
	snz z
	jmp _L6
#line 44 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,44
	lmov [335],a
#line 46 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,128
	lmov [268],a
#line 47 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,228
	lmov [269],a
#line 49 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [56].2
#line 50 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [19].3
#line 51 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [16].0
#line 53 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,128
	mov a,_uart_init_2[1]
	sbc a,37
	snz cz
	jmp _L7
#line 55 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,103
	lmov [271],a
	jmp _L1
_L7:
#line 63 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,192
	mov a,_uart_init_2[1]
	sbc a,18
	snz cz
	jmp _L1
_L10:
#line 65 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,207
	lmov [271],a
	jmp _L1
_L6:
#line 70 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[2]
	sub a,32
	snz z
	jmp _L1
#line 72 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,40
	lmov [339],a
#line 74 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,128
	lmov [278],a
#line 75 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,228
	lmov [279],a
#line 77 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [56].1
#line 78 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [19].3
#line 79 "d:\mike\holtek_c\componets\common\uartuse.c"
	set [16].0
#line 82 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,128
	mov a,_uart_init_2[1]
	sbc a,37
	snz cz
	jmp _L9
#line 84 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,103
	lmov [281],a
	jmp _L1
_L9:
#line 92 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,_uart_init_2[0]
	sub a,192
	mov a,_uart_init_2[1]
	sbc a,18
	snz cz
	jmp _L1
#line 94 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,207
	lmov [281],a
_L1:
	ret
_uart_init endp
#line 94 "d:\mike\holtek_c\componets\common\uartuse.c"
#pragma debug scope 1 1
___txr_rxr1 equ [280]
___u1sr equ [277]
public _uartWrite
#pragma debug scope 3 1
#line 105 "d:\mike\holtek_c\componets\common\uartuse.c"
_uartWrite .section 'code'
_uartWrite proc
public _uartWrite_2
    local _uartWrite_2 db 3 dup(?)	; 3,0
#pragma debug pointer 42 8 3
#pragma debug variable 42 3 _uartWrite_2+0 "data"
#pragma debug variable 8 3 _uartWrite_2+2 "length"
	mov a,_uartWrite_2[0]
	mov rb,a
	mov a,_uartWrite_2[1]
	mov rc,a
#line 125 "d:\mike\holtek_c\componets\common\uartuse.c"
	jmp _L13
_L16:
#line 127 "d:\mike\holtek_c\componets\common\uartuse.c"
	mov a,rb
	mov mp,a
	mov a,rc
	mov sbp,a
	fcall _Crom2Prom
	lmov [280],a
_L15:
#line 128 "d:\mike\holtek_c\componets\common\uartuse.c"
	lsnz [277].0
	jmp _L15
	inc rb
	sz z
	inc rc
_L13:
#line 125 "d:\mike\holtek_c\componets\common\uartuse.c"
	dec _uartWrite_2[2]
	siza _uartWrite_2[2]
	jmp _L16
	ret
_uartWrite endp
#line 125 "d:\mike\holtek_c\componets\common\uartuse.c"
#pragma debug scope 1 1
public _x
@HCCINIT	.section 'data'
#line 4 "d:\mike\holtek_c\componets\common\uartuse.c"
@HCCINIT_x .section 'data'
_x label byte
#pragma debug variable 11 1 _x "x"
	db 0
@ROMDATA_BASE .section inpage 'code'
	db 0
@HCCINIT_x .section 'data'
	db 0
@ROMDATA_BASE .section inpage 'code'
	db 0
@HCCINIT_x .section 'data'
#pragma debug struct_begin 43 "__intc0_bits"
#pragma debug field 21 8 0 1 "__emi" ;0,1
#pragma debug field 21 8 0 1 "__int0e" ;1,1
#pragma debug field 21 8 0 1 "__int1e" ;2,1
#pragma debug field 21 8 0 1 "__cp0e" ;3,1
#pragma debug field 21 8 0 1 "__int0f" ;4,1
#pragma debug field 21 8 0 1 "__int1f" ;5,1
#pragma debug field 21 8 0 1 "__cp0f" ;6,1
#pragma debug field 21 8 0 1 ;7,1
#pragma debug struct_end
#pragma debug union_begin 44 ""
#pragma debug field 2 43 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 44 1 ___intc0 "__intc0" 1
#pragma debug struct_begin 45 "__intc3_bits"
#pragma debug field 21 8 0 1 "__int2e" ;0,1
#pragma debug field 21 8 0 1 "__int3e" ;1,1
#pragma debug field 21 8 0 1 "__mf4e" ;2,1
#pragma debug field 21 8 0 1 "__mf5e" ;3,1
#pragma debug field 21 8 0 1 "__int2f" ;4,1
#pragma debug field 21 8 0 1 "__int3f" ;5,1
#pragma debug field 21 8 0 1 "__mf4f" ;6,1
#pragma debug field 21 8 0 1 "__mf5f" ;7,1
#pragma debug struct_end
#pragma debug union_begin 46 ""
#pragma debug field 2 45 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 46 1 ___intc3 "__intc3" 1
#pragma debug struct_begin 47 "__mfi5_bits"
#pragma debug field 21 8 0 1 "__ur0e" ;0,1
#pragma debug field 21 8 0 1 "__ur1e" ;1,1
#pragma debug field 21 8 0 1 "__ur2e" ;2,1
#pragma debug field 21 8 0 1 ;3,1
#pragma debug field 21 8 0 1 "__ur0f" ;4,1
#pragma debug field 21 8 0 1 "__ur1f" ;5,1
#pragma debug field 21 8 0 1 "__ur2f" ;6,1
#pragma debug field 21 8 0 1 ;7,1
#pragma debug struct_end
#pragma debug union_begin 48 ""
#pragma debug field 2 47 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 48 1 ___mfi5 "__mfi5" 1
#pragma debug struct_begin 49 "__u2cr1_bits"
#pragma debug field 21 8 0 1 "__tx82" ;0,1
#pragma debug field 21 8 0 1 "__rx82" ;1,1
#pragma debug field 21 8 0 1 "__txbrk2" ;2,1
#pragma debug field 21 8 0 1 "__stops2" ;3,1
#pragma debug field 21 8 0 1 "__prt2" ;4,1
#pragma debug field 21 8 0 1 "__pren2" ;5,1
#pragma debug field 21 8 0 1 "__bno2" ;6,1
#pragma debug field 21 8 0 1 "__uarten2" ;7,1
#pragma debug struct_end
#pragma debug union_begin 50 ""
#pragma debug field 2 49 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 50 1 ___u2cr1 "__u2cr1" 1
#pragma debug struct_begin 51 "__u2cr2_bits"
#pragma debug field 21 8 0 1 "__teie2" ;0,1
#pragma debug field 21 8 0 1 "__tiie2" ;1,1
#pragma debug field 21 8 0 1 "__rie2" ;2,1
#pragma debug field 21 8 0 1 "__wake2" ;3,1
#pragma debug field 21 8 0 1 "__adden2" ;4,1
#pragma debug field 21 8 0 1 "__brgh2" ;5,1
#pragma debug field 21 8 0 1 "__rxen2" ;6,1
#pragma debug field 21 8 0 1 "__txen2" ;7,1
#pragma debug struct_end
#pragma debug union_begin 52 ""
#pragma debug field 2 51 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 52 1 ___u2cr2 "__u2cr2" 1
#pragma debug variable 8 1 ___brg2 "__brg2" 1
#pragma debug struct_begin 53 "__u0cr1_bits"
#pragma debug field 21 8 0 1 "__tx80" ;0,1
#pragma debug field 21 8 0 1 "__rx80" ;1,1
#pragma debug field 21 8 0 1 "__txbrk0" ;2,1
#pragma debug field 21 8 0 1 "__stops0" ;3,1
#pragma debug field 21 8 0 1 "__prt0" ;4,1
#pragma debug field 21 8 0 1 "__pren0" ;5,1
#pragma debug field 21 8 0 1 "__bno0" ;6,1
#pragma debug field 21 8 0 1 "__uarten0" ;7,1
#pragma debug struct_end
#pragma debug union_begin 54 ""
#pragma debug field 2 53 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 54 1 ___u0cr1 "__u0cr1" 1
#pragma debug struct_begin 55 "__u0cr2_bits"
#pragma debug field 21 8 0 1 "__teie0" ;0,1
#pragma debug field 21 8 0 1 "__tiie0" ;1,1
#pragma debug field 21 8 0 1 "__rie0" ;2,1
#pragma debug field 21 8 0 1 "__wake0" ;3,1
#pragma debug field 21 8 0 1 "__adden0" ;4,1
#pragma debug field 21 8 0 1 "__brgh0" ;5,1
#pragma debug field 21 8 0 1 "__rxen0" ;6,1
#pragma debug field 21 8 0 1 "__txen0" ;7,1
#pragma debug struct_end
#pragma debug union_begin 56 ""
#pragma debug field 2 55 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 56 1 ___u0cr2 "__u0cr2" 1
#pragma debug variable 8 1 ___brg0 "__brg0" 1
#pragma debug struct_begin 57 "__u1sr_bits"
#pragma debug field 21 8 0 1 "__txif1" ;0,1
#pragma debug field 21 8 0 1 "__tidle1" ;1,1
#pragma debug field 21 8 0 1 "__rxif1" ;2,1
#pragma debug field 21 8 0 1 "__ridle1" ;3,1
#pragma debug field 21 8 0 1 "__oerr1" ;4,1
#pragma debug field 21 8 0 1 "__ferr1" ;5,1
#pragma debug field 21 8 0 1 "__nf1" ;6,1
#pragma debug field 21 8 0 1 "__perr1" ;7,1
#pragma debug struct_end
#pragma debug union_begin 58 ""
#pragma debug field 2 57 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 58 1 ___u1sr "__u1sr" 1
#pragma debug struct_begin 59 "__u1cr1_bits"
#pragma debug field 21 8 0 1 "__tx81" ;0,1
#pragma debug field 21 8 0 1 "__rx81" ;1,1
#pragma debug field 21 8 0 1 "__txbrk1" ;2,1
#pragma debug field 21 8 0 1 "__stops1" ;3,1
#pragma debug field 21 8 0 1 "__prt1" ;4,1
#pragma debug field 21 8 0 1 "__pren1" ;5,1
#pragma debug field 21 8 0 1 "__bno1" ;6,1
#pragma debug field 21 8 0 1 "__uarten1" ;7,1
#pragma debug struct_end
#pragma debug union_begin 60 ""
#pragma debug field 2 59 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 60 1 ___u1cr1 "__u1cr1" 1
#pragma debug struct_begin 61 "__u1cr2_bits"
#pragma debug field 21 8 0 1 "__teie1" ;0,1
#pragma debug field 21 8 0 1 "__tiie1" ;1,1
#pragma debug field 21 8 0 1 "__rie1" ;2,1
#pragma debug field 21 8 0 1 "__wake1" ;3,1
#pragma debug field 21 8 0 1 "__adden1" ;4,1
#pragma debug field 21 8 0 1 "__brgh1" ;5,1
#pragma debug field 21 8 0 1 "__rxen1" ;6,1
#pragma debug field 21 8 0 1 "__txen1" ;7,1
#pragma debug struct_end
#pragma debug union_begin 62 ""
#pragma debug field 2 61 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 62 1 ___u1cr2 "__u1cr2" 1
#pragma debug variable 8 1 ___txr_rxr1 "__txr_rxr1" 1
#pragma debug variable 8 1 ___brg1 "__brg1" 1
#pragma debug struct_begin 63 "__pas1_bits"
#pragma debug field 21 8 0 1 "__pas10" ;0,1
#pragma debug field 21 8 0 1 "__pas11" ;1,1
#pragma debug field 21 8 0 1 "__pas12" ;2,1
#pragma debug field 21 8 0 1 "__pas13" ;3,1
#pragma debug field 21 8 0 1 "__pas14" ;4,1
#pragma debug field 21 8 0 1 "__pas15" ;5,1
#pragma debug field 21 8 0 1 "__pas16" ;6,1
#pragma debug field 21 8 0 1 "__pas17" ;7,1
#pragma debug struct_end
#pragma debug union_begin 64 ""
#pragma debug field 2 63 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 64 1 ___pas1 "__pas1" 1
#pragma debug struct_begin 65 "__pbs0_bits"
#pragma debug field 21 8 0 1 "__pbs00" ;0,1
#pragma debug field 21 8 0 1 "__pbs01" ;1,1
#pragma debug field 21 8 0 1 "__pbs02" ;2,1
#pragma debug field 21 8 0 1 "__pbs03" ;3,1
#pragma debug field 21 8 0 1 "__pbs04" ;4,1
#pragma debug field 21 8 0 1 "__pbs05" ;5,1
#pragma debug field 21 8 0 1 "__pbs06" ;6,1
#pragma debug field 21 8 0 1 "__pbs07" ;7,1
#pragma debug struct_end
#pragma debug union_begin 66 ""
#pragma debug field 2 65 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 66 1 ___pbs0 "__pbs0" 1
#pragma debug struct_begin 67 "__pds0_bits"
#pragma debug field 21 8 0 1 "__pds00" ;0,1
#pragma debug field 21 8 0 1 "__pds01" ;1,1
#pragma debug field 21 8 0 1 "__pds02" ;2,1
#pragma debug field 21 8 0 1 "__pds03" ;3,1
#pragma debug field 21 8 0 1 "__pds04" ;4,1
#pragma debug field 21 8 0 1 "__pds05" ;5,1
#pragma debug field 21 8 0 1 "__pds06" ;6,1
#pragma debug field 21 8 0 1 "__pds07" ;7,1
#pragma debug struct_end
#pragma debug union_begin 68 ""
#pragma debug field 2 67 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 68 1 ___pds0 "__pds0" 1

; 
; Generated by holtek-gcc v3.19, Wed Jul 05 14:46:46 2023
; Rebuild 718
; end of file
